# RSS聚合新闻系统 - 桌面版

## 概述

这是RSS聚合新闻系统的桌面应用程序版本，基于Electron技术构建，提供原生桌面应用体验。

## 功能特点

### 桌面应用特性
- **原生体验**：像传统桌面软件一样运行
- **系统集成**：支持系统菜单、快捷键、通知
- **离线功能**：部分功能支持离线使用
- **自动更新**：支持应用自动更新
- **数据持久化**：本地存储配置和数据

### 增强功能
- **文件导入**：通过菜单直接导入OPML文件
- **数据导出**：导出新闻和对话数据
- **系统通知**：新消息和任务完成通知
- **快捷键支持**：常用操作的键盘快捷键
- **多窗口支持**：支持打开多个应用窗口

## 开发环境

### 系统要求
- Windows 10/11 (64位)
- Node.js 16.0+
- npm 8.0+

### 安装依赖
```bash
cd electron
npm install
```

### 开发模式
```bash
# 启动开发模式（同时启动前端服务和桌面应用）
npm run dev

# 或者使用批处理脚本
start-desktop.bat
```

### 构建应用
```bash
# 构建Windows安装包
npm run dist:win

# 或者使用批处理脚本
build-desktop.bat
```

## 使用说明

### 启动应用
1. 双击生成的exe文件
2. 或通过开始菜单启动
3. 或通过桌面快捷方式启动

### 主要功能
1. **RSS源管理**：添加、编辑、删除RSS源
2. **新闻阅读**：浏览、搜索、过滤新闻
3. **对话生成**：基于新闻生成AI对话
4. **语音合成**：将对话转换为语音
5. **系统设置**：配置API和系统参数

### 快捷键
- `Ctrl+O`：导入OPML文件
- `Ctrl+E`：导出数据
- `Ctrl+Q`：退出应用
- `F11`：全屏切换
- `Ctrl+R`：刷新页面
- `Ctrl+Shift+I`：开发者工具

### 菜单功能
- **文件菜单**：导入/导出、退出
- **编辑菜单**：复制/粘贴、撤销/重做
- **视图菜单**：刷新、缩放、全屏
- **窗口菜单**：最小化、关闭
- **帮助菜单**：关于、检查更新

## 构建配置

### 构建选项
```json
{
  "win": {
    "target": [
      {
        "target": "nsis",    // 安装包
        "arch": ["x64"]
      },
      {
        "target": "portable", // 便携版
        "arch": ["x64"]
      }
    ]
  }
}
```

### 输出格式
- **NSIS安装包**：标准的Windows安装程序
- **便携版**：无需安装，直接运行
- **AppImage**：Linux平台
- **DMG**：macOS平台

## 部署说明

### 开发部署
1. 确保后端服务运行在 `http://localhost:3001`
2. 确保前端服务运行在 `http://localhost:3000`
3. 运行 `npm run dev` 启动桌面应用

### 生产部署
1. 构建前端应用：`cd ../frontend && npm run build`
2. 构建桌面应用：`npm run dist:win`
3. 分发生成的安装包

### 自动更新
- 支持自动检查更新
- 支持自动下载和安装
- 支持手动更新检查

## 技术架构

### 核心技术
- **Electron**：桌面应用框架
- **React**：前端界面
- **Node.js**：后端服务
- **MySQL**：数据存储

### 安全特性
- **上下文隔离**：渲染进程与主进程隔离
- **预加载脚本**：安全的API暴露
- **沙箱模式**：限制渲染进程权限
- **CSP策略**：内容安全策略

### 性能优化
- **懒加载**：按需加载组件
- **缓存策略**：本地数据缓存
- **内存管理**：及时释放资源
- **进程管理**：优化进程间通信

## 故障排除

### 常见问题
1. **应用无法启动**
   - 检查Node.js版本
   - 检查依赖是否安装完整
   - 查看错误日志

2. **网络连接问题**
   - 检查后端服务是否运行
   - 检查防火墙设置
   - 检查网络连接

3. **数据同步问题**
   - 检查数据库连接
   - 检查API配置
   - 重启应用

### 日志查看
- 开发模式：开发者工具控制台
- 生产模式：应用数据目录下的日志文件

### 重置应用
- 删除应用数据目录
- 重新安装应用
- 重新配置设置

## 更新日志

### v1.0.0
- 初始版本发布
- 基础功能实现
- 桌面应用支持

## 许可证

MIT License

## 联系方式

- 项目地址：[GitHub Repository]
- 问题反馈：[Issues]
- 技术支持：[Support] 